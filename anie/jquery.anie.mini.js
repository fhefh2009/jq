/*!
 * jQuery 动画插件
 * http://oxox.io/jq/anie
 *
 * Copyright 2013, hugohua
 *
 * Date: 2013-05-09
 */
 (function(e,t){e.support.transition=function(){var e=document.body||document.documentElement,n=e.style;return n.transition!==t||n.WebkitTransition!==t||n.MozTransition!==t||n.MsTransition!==t||n.OTransition!==t}(),e.extend({bez:function(t){var n="bez_"+e.makeArray(arguments).join("_").replace(".","p");if(typeof e.easing[n]!="function"){var r=function(e,t){var n=[null,null],r=[null,null],i=[null,null],s=function(s,o){return i[o]=3*e[o],r[o]=3*(t[o]-e[o])-i[o],n[o]=1-i[o]-r[o],s*(i[o]+s*(r[o]+s*n[o]))},o=function(e){return i[0]+e*(2*r[0]+3*n[0]*e)},u=function(e){var t=e,n=0,r;while(++n<14){r=s(t,0)-e;if(Math.abs(r)<.001)break;t-=r/o(t)}return t};return function(e){return s(u(e),1)}};e.easing[n]=function(e,n,i,s,o){return s*r([t[0],t[1]],[t[2],t[3]])(n/o)+i}}return n}});var n=function(t){var n=t.split(";"),r=n.length,i,s,o,u={};while(r--)i=n[r].split(":"),s=e.trim(i[0]),o=e.trim(i[1]),s.length>0&&o.length>0&&(u[s]=o);return u},r=function(t){var t=t.split(",");return e.bez(t)},i=function(t,n){e.support.transition?t.delay(n.delay).queue(function(e){t.css(n.ani),n.complete&&setTimeout(function(){n.complete.apply(t[0])},n.duration),e()}):t.queue(function(t){e(this).delay(n.delay).animate(n.ani,n.duration,r(n.easing),n.complete),t()})},s=function(t,r){if(r.ani&&typeof r.ani=="string"){var s=r.ani.split("|"),o=s.length,u,a,f;typeof r.duration=="string"?u=r.duration.split("|"):u=[r.duration||e.fn.anie.defaults.duration],typeof r.delay=="string"?a=r.delay.split("|"):a=[r.delay||e.fn.anie.defaults.delay],typeof r.easing=="string"?f=r.easing.split("|"):f=[e.fn.anie.defaults.easing];for(var l=0;l<o;l++){var c={ani:n(s[l]),duration:u[l]||u[0],delay:a[l]||a[0],easing:f[l]||f[0]};c.ani.transition||(c.ani.transition="all "+c.duration+"ms cubic-bezier("+c.easing+")"),i(t,c)}}else r.ani.transition||(r.ani.transition="all "+r.duration+"ms cubic-bezier("+r.easing+")"),i(t,r)},o=function(){function n(n,r,i,s,o){this.element=e(n);var u={};typeof r=="object"&&(u.ani=r),e.isFunction(i)&&(o=i,i=t),e.isFunction(s)&&(o=s,s=t),u={ani:r,duration:i,easing:s,complete:o},this.settings=e.extend({},e.fn.anie.defaults,this.element.data(),u),this.init()}return n.prototype={init:function(){var t=this.element,n=this.settings;if(!n.trigger)s(t,n);else{var r=e(n.trigger),i=r.data("event")||"click";r.bind(i,function(){s(t,n)})}}},n}();e.fn.anie=function(e,t,n,r){return this.each(function(){new o(this,e,t,n,r)})},e.fn.anie.defaults={delay:0,duration:400,easing:"0, 0, 1, 1"},e(function(){e("[data-ani]").each(function(){return new o(e(this))})})})(jQuery,undefined)